{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/agnes/note-taking-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/Users/agnes/note-taking-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/agnes/note-taking-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/agnes/note-taking-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/agnes/note-taking-app/src/App.tsx\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3;\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Button } from \"./components/button\";\nimport { Note } from \"./components/note\";\nimport { SidePanel } from \"./components/sidePanel\";\nimport { GlobalStyle } from \"./globalStyles\";\nimport { debounce, useClickOutside } from \"./util\";\nimport { AddIcon } from \"./assets/svg/addIcon\";\nimport { SearchInput } from \"./components/searchInput\";\nimport { NoteIcon } from \"./assets/svg/noteIcon\";\nimport { colors } from \"./colors\";\nvar LOCAL_STORAGE_KEY = \"react-notes-app-data\";\nexport var App = function App() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showSidePanel = _React$useState2[0],\n      setShowSidePanel = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      search = _React$useState4[0],\n      setSearch = _React$useState4[1];\n\n  var _React$useState5 = React.useState([{\n    text: \"\",\n    date: new Date()\n  }]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      notesList = _React$useState6[0],\n      setNotesList = _React$useState6[1];\n\n  var wrapperRef = React.useRef(null);\n  useClickOutside(wrapperRef, function () {\n    return setShowSidePanel(false);\n  });\n\n  var toggleSidePanel = function toggleSidePanel() {\n    return setShowSidePanel(!showSidePanel);\n  };\n\n  var addNote = function addNote() {\n    var newNotesList = {\n      text: \"\",\n      date: new Date()\n    };\n    setNotesList([].concat(_toConsumableArray(notesList), [newNotesList]));\n  }; // UseCallback is used to prevent all notes from rerendering when the list changes\n\n\n  var deleteNote = React.useCallback(function (idx) {\n    var newList = _toConsumableArray(notesList);\n\n    newList.splice(idx, 1);\n    setNotesList(newList);\n  }, [notesList]);\n  var updateNote = React.useCallback(function (idx, text) {\n    var newList = _toConsumableArray(notesList);\n\n    newList[idx].text = text;\n    setNotesList(newList);\n  }, [notesList]);\n  React.useEffect(function () {\n    var storage_string = sessionStorage.getItem(LOCAL_STORAGE_KEY);\n    if (!storage_string) return;\n\n    try {\n      var savedNotes = JSON.parse(storage_string);\n      if (savedNotes) setNotesList(savedNotes.map(function (n) {\n        return _objectSpread({}, n, {\n          date: n.date ? new Date(n.date) : new Date()\n        });\n      }));\n    } catch (err) {\n      console.log(\"error\");\n    }\n  }, []);\n  React.useEffect(function () {\n    sessionStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(notesList));\n  }, [notesList]);\n\n  var getFilteredNotes = function getFilteredNotes(notes, search) {\n    if (!search) {\n      return notes;\n    }\n\n    return notes.filter(function (note) {\n      return note.text.includes(search);\n    });\n  };\n\n  var filteredNotes = getFilteredNotes(notesList, search);\n\n  var updateQuery = function updateQuery(event) {\n    return setSearch(event.target.value);\n  };\n\n  var handleSearch = debounce(updateQuery, 500);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GlobalStyle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SidePanel, {\n    close: function close() {\n      return setShowSidePanel(false);\n    },\n    showSidePanel: showSidePanel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HeaderContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    placeholder: \"Search notes\",\n    type: \"text\",\n    onChange: handleSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"icon\",\n    onClick: addNote,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }))), notesList.length > 0 && (filteredNotes && filteredNotes.length > 0 ? filteredNotes.map(function (note, idx) {\n    return /*#__PURE__*/React.createElement(Note, {\n      onChange: updateNote,\n      remove: deleteNote,\n      idx: idx,\n      created_at: note.date.toLocaleString(),\n      text: note.text,\n      key: idx,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"No results found\"))), !showSidePanel && /*#__PURE__*/React.createElement(ToggleButton, {\n    variant: \"primary\",\n    onClick: toggleSidePanel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NoteIcon, {\n    width: \"2rem\",\n    height: \"2rem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), \"Notes\"));\n};\nvar ToggleButton = styled(Button)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 3rem;\\n  left: 3rem;\\n\"])));\nvar HeaderContainer = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  width: 30rem;\\n  background: \", \";\\n  margin-bottom: 2rem;\\n  margin-top: 2rem;\\n  padding: 1rem 1rem;\\n  border-radius: 1rem;\\n  box-shadow: 0 1px 1px hsl(0deg 0% 0% / 0.075),\\n    0 2px 2px hsl(0deg 0% 0% / 0.075), 0 4px 4px hsl(0deg 0% 0% / 0.075),\\n    0 8px 8px hsl(0deg 0% 0% / 0.075), 0 16px 16px hsl(0deg 0% 0% / 0.075);\\n\"])), colors.slate3);\n/* by layering multiple shadows, we create a bit of the subtlety present in real-life shadows */\n\nvar Text = styled.h5(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  font-size: 16px;\\n\"])));","map":{"version":3,"names":["React","styled","Button","Note","SidePanel","GlobalStyle","debounce","useClickOutside","AddIcon","SearchInput","NoteIcon","colors","LOCAL_STORAGE_KEY","App","useState","showSidePanel","setShowSidePanel","search","setSearch","text","date","Date","notesList","setNotesList","wrapperRef","useRef","toggleSidePanel","addNote","newNotesList","deleteNote","useCallback","idx","newList","splice","updateNote","useEffect","storage_string","sessionStorage","getItem","savedNotes","JSON","parse","map","n","err","console","log","setItem","stringify","getFilteredNotes","notes","filter","note","includes","filteredNotes","updateQuery","event","target","value","handleSearch","length","toLocaleString","ToggleButton","HeaderContainer","div","slate3","Text","h5"],"sources":["/Users/agnes/note-taking-app/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button } from \"./components/button\";\nimport { Note } from \"./components/note\";\nimport { SidePanel } from \"./components/sidePanel\";\nimport { GlobalStyle } from \"./globalStyles\";\nimport { debounce, useClickOutside } from \"./util\";\nimport { AddIcon } from \"./assets/svg/addIcon\";\nimport { SearchInput } from \"./components/searchInput\";\nimport { NoteIcon } from \"./assets/svg/noteIcon\";\nimport { colors } from \"./colors\";\n\nconst LOCAL_STORAGE_KEY = \"react-notes-app-data\";\nexport interface INote {\n  text: string;\n  date: Date;\n}\n\nexport const App = () => {\n  const [showSidePanel, setShowSidePanel] = React.useState<boolean>(false);\n  const [search, setSearch] = React.useState<string>(\"\");\n  const [notesList, setNotesList] = React.useState<Array<INote>>([\n    { text: \"\", date: new Date()},\n  ]);\n\n  const wrapperRef: React.MutableRefObject<HTMLDivElement | null> = React.useRef<HTMLDivElement | null>(null);\n  useClickOutside(wrapperRef, () => setShowSidePanel(false));\n  \n  const toggleSidePanel = () => setShowSidePanel(!showSidePanel);\n  \n  const addNote = (): void => {\n    const newNotesList = {\n      text: \"\",\n      date: new Date(),\n    };\n    setNotesList([...notesList, newNotesList]);\n  };\n\n  // UseCallback is used to prevent all notes from rerendering when the list changes\n  const deleteNote = React.useCallback(\n    (idx: number): void => {\n      const newList = [...notesList];\n      newList.splice(idx, 1);\n      setNotesList(newList);\n    },\n    [notesList]\n  );\n\n  const updateNote = React.useCallback(\n    (idx: number, text: string) => {\n      const newList = [...notesList];\n      newList[idx].text = text;\n      setNotesList(newList);\n    },\n    [notesList]\n  );\n\n  React.useEffect(() => {\n    const storage_string = sessionStorage.getItem(LOCAL_STORAGE_KEY);\n    if (!storage_string) return;\n    try {\n      const savedNotes: {text: string, date: string}[] = JSON.parse(storage_string);\n      if (savedNotes) setNotesList(savedNotes.map((n: {text: string, date: string}) => ({\n        ...n,\n        date: n.date ? new Date(n.date) : new Date()\n      })));\n    } catch (err) {\n      console.log(\"error\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    sessionStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(notesList));\n  }, [notesList]);\n\n  const getFilteredNotes = (notes: INote[], search: string) => {\n    if (!search) {\n      return notes;\n    }\n    return notes.filter((note) => note.text.includes(search));\n  };\n\n  const filteredNotes = getFilteredNotes(notesList, search);\n  const updateQuery = (event: React.ChangeEvent<HTMLInputElement>) => setSearch(event.target.value);\n  const handleSearch = debounce(updateQuery, 500);\n\n  return (\n    <div ref={wrapperRef}>\n      <GlobalStyle />\n      <SidePanel close={() => setShowSidePanel(false)} showSidePanel={showSidePanel}>\n        <HeaderContainer>\n          <SearchInput\n            placeholder=\"Search notes\"\n            type=\"text\"\n            onChange={handleSearch}\n          />\n          <Button variant=\"icon\" onClick={addNote}>\n            <AddIcon />\n          </Button>\n        </HeaderContainer>\n        {notesList.length > 0 &&\n          ((filteredNotes && filteredNotes.length > 0) ? (\n            filteredNotes.map((note: INote, idx: number) => (\n              <Note\n                onChange={updateNote}\n                remove={deleteNote}\n                idx={idx}\n                created_at={note.date.toLocaleString()}\n                text={note.text}\n                key={idx}\n              />\n            ))\n          ) : (\n            <Text>No results found</Text>\n          ))}\n      </SidePanel>\n      {!showSidePanel &&\n        <ToggleButton variant=\"primary\" onClick={toggleSidePanel}>\n          <NoteIcon width=\"2rem\" height=\"2rem\" />\n          Notes\n        </ToggleButton>\n      }\n    </div>\n  );\n};\n\nconst ToggleButton = styled(Button)`\n  position: absolute;\n  bottom: 3rem;\n  left: 3rem;\n`;\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 30rem;\n  background: ${colors.slate3};\n  margin-bottom: 2rem;\n  margin-top: 2rem;\n  padding: 1rem 1rem;\n  border-radius: 1rem;\n  box-shadow: 0 1px 1px hsl(0deg 0% 0% / 0.075),\n    0 2px 2px hsl(0deg 0% 0% / 0.075), 0 4px 4px hsl(0deg 0% 0% / 0.075),\n    0 8px 8px hsl(0deg 0% 0% / 0.075), 0 16px 16px hsl(0deg 0% 0% / 0.075);\n`;\n/* by layering multiple shadows, we create a bit of the subtlety present in real-life shadows */\n\nconst Text = styled.h5`\n  font-size: 16px;\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module"}