{"ast":null,"code":"import React from \"react\";\nexport var useClickOutside = function useClickOutside(ref, handler) {\n  React.useEffect(function () {\n    var startedInside = false;\n    var startedWhenMounted = false;\n\n    var listener = function listener(event) {\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\n      if (startedInside || !startedWhenMounted) return; // Do nothing if clicking ref's element or descendent elements\n\n      if (!ref.current || ref.current.contains(event.target)) return;\n      handler && handler(event);\n    };\n\n    var validateEventStart = function validateEventStart(event) {\n      startedWhenMounted = ref.current;\n      startedInside = ref.current && ref.current.contains(event.target);\n    };\n\n    document.addEventListener(\"mousedown\", validateEventStart);\n    document.addEventListener(\"click\", listener);\n    return function () {\n      document.removeEventListener(\"mousedown\", validateEventStart);\n      document.removeEventListener(\"click\", listener);\n    };\n  }, [ref, handler]);\n};\nexport var debounce = function debounce(clbk) {\n  var debounceDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n  var debounceTimer = null;\n  return function (args) {\n    debounceTimer && clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(function () {\n      return clbk(args);\n    }, debounceDelay);\n  };\n};","map":{"version":3,"names":["React","useClickOutside","ref","handler","useEffect","startedInside","startedWhenMounted","listener","event","current","contains","target","validateEventStart","document","addEventListener","removeEventListener","debounce","clbk","debounceDelay","debounceTimer","args","clearTimeout","setTimeout"],"sources":["/Users/agnes/note-taking-app/src/util.tsx"],"sourcesContent":["import React from \"react\";\n\nexport const useClickOutside = (\n  ref: React.MutableRefObject<any>,\n  handler: (arg0: any) => void\n) => {\n  React.useEffect(() => {\n    let startedInside = false;\n    let startedWhenMounted = false;\n\n    const listener = (event: MouseEvent) => {\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\n      if (startedInside || !startedWhenMounted) return;\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) return;\n\n      handler && handler(event);\n    };\n\n    const validateEventStart = (event: MouseEvent) => {\n      startedWhenMounted = ref.current;\n      startedInside = ref.current && ref.current.contains(event.target);\n    };\n\n    document.addEventListener(\"mousedown\", validateEventStart);\n    document.addEventListener(\"click\", listener);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", validateEventStart);\n      document.removeEventListener(\"click\", listener);\n    };\n  }, [ref, handler]);\n};\n\nexport const debounce = (\n  clbk: (args?: any) => void,\n  debounceDelay: number = 250\n) => {\n  let debounceTimer: NodeJS.Timeout | null = null;\n  return (args?: any) => {\n    debounceTimer && clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(() => clbk(args), debounceDelay);\n  };\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAC7BC,GAD6B,EAE7BC,OAF6B,EAG1B;EACHH,KAAK,CAACI,SAAN,CAAgB,YAAM;IACpB,IAAIC,aAAa,GAAG,KAApB;IACA,IAAIC,kBAAkB,GAAG,KAAzB;;IAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAuB;MACtC;MACA,IAAIH,aAAa,IAAI,CAACC,kBAAtB,EAA0C,OAFJ,CAGtC;;MACA,IAAI,CAACJ,GAAG,CAACO,OAAL,IAAgBP,GAAG,CAACO,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;MAExDR,OAAO,IAAIA,OAAO,CAACK,KAAD,CAAlB;IACD,CAPD;;IASA,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACJ,KAAD,EAAuB;MAChDF,kBAAkB,GAAGJ,GAAG,CAACO,OAAzB;MACAJ,aAAa,GAAGH,GAAG,CAACO,OAAJ,IAAeP,GAAG,CAACO,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAA/B;IACD,CAHD;;IAKAE,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCF,kBAAvC;IACAC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCP,QAAnC;IAEA,OAAO,YAAM;MACXM,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CH,kBAA1C;MACAC,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCR,QAAtC;IACD,CAHD;EAID,CAzBD,EAyBG,CAACL,GAAD,EAAMC,OAAN,CAzBH;AA0BD,CA9BM;AAgCP,OAAO,IAAMa,QAAQ,GAAG,SAAXA,QAAW,CACtBC,IADsB,EAGnB;EAAA,IADHC,aACG,uEADqB,GACrB;EACH,IAAIC,aAAoC,GAAG,IAA3C;EACA,OAAO,UAACC,IAAD,EAAgB;IACrBD,aAAa,IAAIE,YAAY,CAACF,aAAD,CAA7B;IACAA,aAAa,GAAGG,UAAU,CAAC;MAAA,OAAML,IAAI,CAACG,IAAD,CAAV;IAAA,CAAD,EAAmBF,aAAnB,CAA1B;EACD,CAHD;AAID,CATM"},"metadata":{},"sourceType":"module"}